name: Shell Commands

#on: [push]

on:
  push:
    branches:
      - master
      - develop
#    taq:
#      - v1.*

#    path:
#      - '**.js'

jobs:
  run-shell-command:
    runs-on: ubuntu-latest
    steps:
      - name: Push a random file-number
        run: |
          pwd
          ls -a
          git init
          git remote add origin "https://$GITHUB_ACTOR:${{ secrets.GITHUB_TOKEN }}@github.com/GITHUB_REPOSITORY.git"
          git config --global user.email "my-bot@boot.com"
          git config --global user.name "my-bot"
          git fetch
          git checkout master
          git branch --set-upstream-to=origin/master
          git pull
          ls -a
          echo $RANDOM >> random.txt
          ls -a
          git add -A
          git commit -m "Random file"
          git push

      - name: echo a string
        run: echo "Hello to Git Hub actions!"
      - name: multiline comment
        run: |
          node -v
          npm -v
      - name: python Command
        run: |
          import platform
          print(platform.processor())
        shell: python

  run-windows-commands:
    runs-on: windows-latest
    # windows command will be run only after 'run-shell-command is completed
    needs: ['run-shell-command']
    steps:
      - name: Directory PowerShell
        run: Get-Location
      - name: Directory Bash
        run: pwd
        shell: bash